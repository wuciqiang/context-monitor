# é¡¹ç›®çº§å®‰è£…æŒ‡å—
# Project-Level Installation Guide

> å°† Context Monitor å®‰è£…åˆ°æŒ‡å®šé¡¹ç›®

---

## ğŸš€ ä¸€é”®å®‰è£…

### Windows (PowerShell)

```powershell
# æ–¹å¼ 1: äº¤äº’å¼å®‰è£…ï¼ˆæ¨èï¼‰
cd F:\LayaAir-GitHub\context-monitor
.\install-to-project.ps1

# æ–¹å¼ 2: ç›´æ¥æŒ‡å®šè·¯å¾„
.\install-to-project.ps1 -TargetDir "D:\your-project"
```

### macOS / Linux / Git Bash

```bash
# æ–¹å¼ 1: äº¤äº’å¼å®‰è£…ï¼ˆæ¨èï¼‰
cd /path/to/context-monitor
./install-to-project.sh

# æ–¹å¼ 2: ç›´æ¥æŒ‡å®šè·¯å¾„
./install-to-project.sh /path/to/your-project
```

---

## ğŸ“‹ å®‰è£…å†…å®¹

è„šæœ¬ä¼šè‡ªåŠ¨å®Œæˆä»¥ä¸‹æ“ä½œï¼š

### 1. åˆ›å»ºç›®å½•ç»“æ„
```
your-project/
â””â”€â”€ .claude/
    â”œâ”€â”€ hooks/
    â”œâ”€â”€ mcp-servers/context-monitor/
    â””â”€â”€ state/
```

### 2. å¤åˆ¶æ–‡ä»¶
- `.claude/hooks/capture-session-info.sh` - SessionStart hook
- `.claude/mcp-servers/context-monitor/server.py` - MCP server

### 3. é…ç½®æ–‡ä»¶
åˆ›å»ºæˆ–æ›´æ–° `.claude/settings.local.json`ï¼š
```json
{
  "hooks": {
    "SessionStart": [
      {
        "type": "command",
        "command": "bash \"$CLAUDE_PROJECT_DIR/.claude/hooks/capture-session-info.sh\"",
        "timeout": 5
      }
    ]
  },
  "mcpServers": {
    "context-monitor": {
      "command": "python3",
      "args": [".claude/mcp-servers/context-monitor/server.py"],
      "env": {}
    }
  }
}
```

---

## âœ… éªŒè¯å®‰è£…

### 1. å¯åŠ¨ Claude Code

```bash
cd /path/to/your-project
claude
```

### 2. æµ‹è¯•ç›‘æ§

åœ¨å¯¹è¯ä¸­è¾“å…¥ï¼š
```
è¯·æ£€æŸ¥å½“å‰ä¸Šä¸‹æ–‡ä½¿ç”¨ç‡
```

é¢„æœŸè¾“å‡ºï¼š
```json
{
  "usage_percent": 15.3,
  "status": "âœ… SAFE",
  "recommendation": "Context usage is healthy. Continue working normally."
}
```

---

## ğŸ”§ æ‰‹åŠ¨å®‰è£…ï¼ˆå¯é€‰ï¼‰

å¦‚æœè‡ªåŠ¨è„šæœ¬å¤±è´¥ï¼Œå¯ä»¥æ‰‹åŠ¨å®‰è£…ï¼š

### 1. å¤åˆ¶æ–‡ä»¶

```bash
# åˆ›å»ºç›®å½•
mkdir -p /path/to/your-project/.claude/hooks
mkdir -p /path/to/your-project/.claude/mcp-servers/context-monitor
mkdir -p /path/to/your-project/.claude/state

# å¤åˆ¶æ–‡ä»¶
cp hooks/capture-session-info.sh /path/to/your-project/.claude/hooks/
cp mcp-servers/context-monitor/server.py /path/to/your-project/.claude/mcp-servers/context-monitor/

# è®¾ç½®æƒé™
chmod +x /path/to/your-project/.claude/hooks/capture-session-info.sh
chmod +x /path/to/your-project/.claude/mcp-servers/context-monitor/server.py
```

### 2. åˆ›å»ºé…ç½®æ–‡ä»¶

åˆ›å»º `/path/to/your-project/.claude/settings.local.json`ï¼Œå†…å®¹è§ä¸Šæ–¹é…ç½®æ–‡ä»¶éƒ¨åˆ†ã€‚

---

## ğŸ› æ•…éšœæ’æŸ¥

### Q: Windows ä¸Šæç¤º "bash: command not found"

**A**: å®‰è£… Git for Windowsï¼Œå®ƒåŒ…å« Git Bashï¼š
https://git-scm.com/download/win

### Q: Python 3 æ‰¾ä¸åˆ°

**A**: å®‰è£… Python 3ï¼š
- macOS: `brew install python3`
- Ubuntu: `sudo apt install python3`
- Windows: https://www.python.org/downloads/

### Q: Hook æ²¡æœ‰è¿è¡Œ

**A**: æ£€æŸ¥æ‰§è¡Œæƒé™ï¼š
```bash
chmod +x .claude/hooks/capture-session-info.sh
```

### Q: ç°æœ‰é…ç½®æ–‡ä»¶ä¼šè¢«è¦†ç›–å—ï¼Ÿ

**A**: ä¼šè‡ªåŠ¨å¤‡ä»½ä¸º `settings.local.json.backup`

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [README.md](./README.md) - é¡¹ç›®æ¦‚è§ˆ
- [æ•´åˆå·¥ä½œæµæŒ‡å—.md](./æ•´åˆå·¥ä½œæµæŒ‡å—.md) - ä½¿ç”¨æŒ‡å—
- [ä¸Šä¸‹æ–‡ç›‘æ§è¯¦è§£.md](./ä¸Šä¸‹æ–‡ç›‘æ§è¯¦è§£.md) - è¯¦ç»†è¯´æ˜

---

**æ³¨æ„**: Context Monitor å¿…é¡»åœ¨æ¯ä¸ªé¡¹ç›®ä¸­å•ç‹¬å®‰è£…ï¼Œå› ä¸ºå®ƒéœ€è¦é¡¹ç›®ç‰¹å®šçš„æ–‡ä»¶å’Œé…ç½®ã€‚
