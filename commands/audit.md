---
description: 代码审计与交付（Phase 5）
---

# 代码审计与交付

⚠️ **高级用法** - 此命令需要先完成 Phase 0-4。推荐使用 `/cm:auto` 自动执行完整流程。

## 前置检查

在执行此命令前，请确认：
- ✅ 已完成 Phase 4 实施（`/cm:implement`）
- ✅ 代码已编写完成
- ✅ 上下文使用率 < 85%

如未满足，请运行 `/cm:auto` 代替此命令。

---

执行 Phase 5：审计与交付

## 执行步骤

1. **会话恢复**（如果执行了 /clear）
   - 读取 `.claude/state/current-session.md`
   - 恢复之前的进度和上下文

2. **双模型审计** ⚡ 并行执行（强制）
   - **重要**：必须在单个消息中并行调用 Codex 和 Gemini
   - **Codex 审计**（后端/逻辑）- 并行调用
     * 逻辑正确性
     * 性能问题
     * 安全漏洞（SQL注入、XSS等）
     * 边界条件和错误处理
   - **Gemini 审计**（前端/UI）- 并行调用
     * UI/UX 一致性
     * 可访问性（ARIA、语义化）
     * 响应式设计
     * 用户体验
   - **预期提升**：性能提升 40-50%

3. **整合修复**
   - 综合两个模型的反馈
   - 识别关键问题
   - 进行必要修正

4. **最终检查**
   - 调用 `check_context_usage` 确认使用率
   - 确保所有任务已完成
   - 验证代码质量

5. **交付**
   - 生成审计报告
   - 总结变更内容
   - 反馈给用户

**输出**：经过审计的最终代码 + 审计报告
